2023-02-27 00:00:12 WARN  http-nio-20000-exec-2 org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder Encoded password does not look like BCrypt
2023-02-27 00:00:50 WARN  HikariPool-1 housekeeper com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m3s981ms).
2023-02-27 00:02:11 WARN  HikariPool-1 housekeeper com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=45s951ms).
2023-02-27 00:02:11 WARN  http-nio-20000-exec-1 org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder Encoded password does not look like BCrypt
2023-02-27 00:02:11 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 00:02:11 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 00:02:11 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 00:02:57 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 6218 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 00:02:57 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 00:02:58 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 00:02:58 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2023-02-27 00:02:58 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 00:02:58 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 00:02:58 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 00:02:58 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 00:02:58 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 00:02:58 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 873 ms
2023-02-27 00:02:58 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 00:02:58 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 00:02:59 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 00:02:59 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 00:02:59 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 00:02:59 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@64bba0eb
2023-02-27 00:02:59 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 00:02:59 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 00:02:59 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 00:02:59 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 00:02:59 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 00:03:00 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 00:03:00 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 00:03:00 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 00:03:01 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1291/0x00000008013f2098@294bb6ae with [org.springframework.security.web.session.DisableEncodeUrlFilter@4172c967, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71ac5723, org.springframework.security.web.context.SecurityContextHolderFilter@67b20b4c, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@4351d055, org.springframework.security.web.header.HeaderWriterFilter@2b76ecd5, org.springframework.security.web.csrf.CsrfFilter@17d45cfb, org.springframework.security.web.authentication.logout.LogoutFilter@7c59cf66, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@782ed745, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@2c9aeec6, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@19d0d1ab, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@477906cf, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@1bbfd42f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67aaf882, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e0a112f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ae23815, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7bb3294c, org.springframework.security.web.access.ExceptionTranslationFilter@47fce2c4, org.springframework.security.web.access.intercept.AuthorizationFilter@c7a1db6, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@167bae0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@477e5b69, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@79f3f34c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1e489957]
2023-02-27 00:03:01 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@127320df, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c3884f5, org.springframework.security.web.context.SecurityContextHolderFilter@4a7ac98b, org.springframework.security.web.header.HeaderWriterFilter@65294247, org.springframework.security.web.csrf.CsrfFilter@78f1d29, org.springframework.security.web.authentication.logout.LogoutFilter@18d14de3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f6e3b67, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2eafb4e7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6778636f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35e3f3b8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13bf5fd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2dbf8cfc, org.springframework.security.web.access.ExceptionTranslationFilter@76c85485, org.springframework.security.web.access.intercept.AuthorizationFilter@15405ba1]
2023-02-27 00:03:01 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 00:03:01 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 00:03:01 INFO  main org.leslie.auth.MainApplication Started MainApplication in 4.209 seconds (process running for 4.56)
2023-02-27 00:03:01 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 00:03:01 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 00:03:01 INFO  main org.leslie.auth.task.ProgramStartTask Insert default oauth2 client into db success
2023-02-27 00:03:01 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 00:03:07 INFO  http-nio-20000-exec-2 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 00:03:07 INFO  http-nio-20000-exec-2 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 00:03:07 INFO  http-nio-20000-exec-2 org.springframework.web.servlet.DispatcherServlet Completed initialization in 0 ms
2023-02-27 00:27:15 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 00:27:15 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 00:27:15 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 01:15:44 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 8263 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 01:15:44 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 01:15:44 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 01:15:44 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 48 ms. Found 4 JPA repository interfaces.
2023-02-27 01:15:45 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 01:15:45 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 01:15:45 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 01:15:45 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 01:15:45 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 01:15:45 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 966 ms
2023-02-27 01:15:45 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 01:15:45 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 01:15:45 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 01:15:45 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 01:15:45 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 01:15:45 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3d0352
2023-02-27 01:15:45 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 01:15:45 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 01:15:45 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 01:15:46 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 01:15:46 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:15:46 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 01:15:46 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 01:15:46 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 01:15:46 WARN  main org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jpaOAuth2AuthorizationServiceImpl' defined in file [/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes/org/leslie/auth/service/impl/JpaOAuth2AuthorizationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'authorizationRepository' defined in org.leslie.auth.repository.AuthorizationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional org.leslie.auth.repository.AuthorizationRepository.findByStateOrAuthorizationCodeValueOrAccessTokenValueOrRefreshTokenValue(java.lang.String); Reason: Validation failed for query for method public abstract java.util.Optional org.leslie.auth.repository.AuthorizationRepository.findByStateOrAuthorizationCodeValueOrAccessTokenValueOrRefreshTokenValue(java.lang.String)
2023-02-27 01:15:46 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:15:46 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 01:15:46 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 01:15:46 INFO  main org.apache.catalina.core.StandardService Stopping service [Tomcat]
2023-02-27 01:15:46 INFO  main org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-02-27 01:15:46 ERROR main org.springframework.boot.SpringApplication Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jpaOAuth2AuthorizationServiceImpl' defined in file [/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes/org/leslie/auth/service/impl/JpaOAuth2AuthorizationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'authorizationRepository' defined in org.leslie.auth.repository.AuthorizationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional org.leslie.auth.repository.AuthorizationRepository.findByStateOrAuthorizationCodeValueOrAccessTokenValueOrRefreshTokenValue(java.lang.String); Reason: Validation failed for query for method public abstract java.util.Optional org.leslie.auth.repository.AuthorizationRepository.findByStateOrAuthorizationCodeValueOrAccessTokenValueOrRefreshTokenValue(java.lang.String)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at org.leslie.auth.MainApplication.main(MainApplication.java:14)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorizationRepository' defined in org.leslie.auth.repository.AuthorizationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional org.leslie.auth.repository.AuthorizationRepository.findByStateOrAuthorizationCodeValueOrAccessTokenValueOrRefreshTokenValue(java.lang.String); Reason: Validation failed for query for method public abstract java.util.Optional org.leslie.auth.repository.AuthorizationRepository.findByStateOrAuthorizationCodeValueOrAccessTokenValueOrRefreshTokenValue(java.lang.String)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 19 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.Optional org.leslie.auth.repository.AuthorizationRepository.findByStateOrAuthorizationCodeValueOrAccessTokenValueOrRefreshTokenValue(java.lang.String); Reason: Validation failed for query for method public abstract java.util.Optional org.leslie.auth.repository.AuthorizationRepository.findByStateOrAuthorizationCodeValueOrAccessTokenValueOrRefreshTokenValue(java.lang.String)
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:88)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:245)
	at org.springframework.data.util.Lazy.get(Lazy.java:114)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	... 30 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.Optional org.leslie.auth.repository.AuthorizationRepository.findByStateOrAuthorizationCodeValueOrAccessTokenValueOrRefreshTokenValue(java.lang.String)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:100)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:70)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:55)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:170)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)
	... 42 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity 'usr.t_authorization'
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:182)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:760)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:126)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360)
	at jdk.proxy2/jdk.proxy2.$Proxy105.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94)
	... 48 common frames omitted
Caused by: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity 'usr.t_authorization'
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitRootEntity(SemanticQueryBuilder.java:1628)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitRootEntity(SemanticQueryBuilder.java:243)
	at org.hibernate.grammars.hql.HqlParser$RootEntityContext.accept(HqlParser.java:1873)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitEntityWithJoins(SemanticQueryBuilder.java:1548)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitFromClause(SemanticQueryBuilder.java:1539)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:833)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:629)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:243)
	at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:1218)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:623)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:243)
	at org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:1131)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:399)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:358)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:285)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:81)
	at org.hibernate.internal.AbstractSharedSessionContract.lambda$createQuery$2(AbstractSharedSessionContract.java:747)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:128)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:744)
	... 57 common frames omitted
2023-02-27 01:19:32 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 8391 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 01:19:32 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 01:19:33 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 01:19:33 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2023-02-27 01:19:33 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 01:19:33 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 01:19:33 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 01:19:33 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 01:19:33 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 01:19:33 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 1017 ms
2023-02-27 01:19:33 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 01:19:33 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 01:19:33 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 01:19:34 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 01:19:34 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 01:19:34 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3d0352
2023-02-27 01:19:34 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 01:19:34 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 01:19:34 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 01:19:34 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 01:19:34 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:19:35 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 01:19:35 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 01:19:35 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 01:19:35 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 01:19:35 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 01:19:36 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1337/0x000000080148a098@20ee660b with [org.springframework.security.web.session.DisableEncodeUrlFilter@40e41f88, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27b7913, org.springframework.security.web.context.SecurityContextHolderFilter@5fc42998, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6b6cf3c1, org.springframework.security.web.header.HeaderWriterFilter@121b7a95, org.springframework.security.web.csrf.CsrfFilter@580a5b6e, org.springframework.security.web.authentication.logout.LogoutFilter@56728f48, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@73bd146c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@52dc71b2, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@33293b34, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4ceb368b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3d84f113, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@46c093b4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5dfb65d5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7053a864, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d86f330, org.springframework.security.web.access.ExceptionTranslationFilter@2bfe4df9, org.springframework.security.web.access.intercept.AuthorizationFilter@48cebb78, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52cda4bd, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@113a89c5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2898c70d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@eb77241]
2023-02-27 01:19:36 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@109f95b1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d20cbb5, org.springframework.security.web.context.SecurityContextHolderFilter@5eaa4ed0, org.springframework.security.web.header.HeaderWriterFilter@11f752d1, org.springframework.security.web.csrf.CsrfFilter@2257590f, org.springframework.security.web.authentication.logout.LogoutFilter@36dbfa68, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@66d766b9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@13563e64, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@74eae1e0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@462deb2b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@381c826c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c3357c7, org.springframework.security.web.access.ExceptionTranslationFilter@c3e5e3c, org.springframework.security.web.access.intercept.AuthorizationFilter@480fb706]
2023-02-27 01:19:36 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 01:19:36 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 01:19:36 INFO  main org.leslie.auth.MainApplication Started MainApplication in 4.325 seconds (process running for 4.731)
2023-02-27 01:19:36 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 01:19:36 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 01:19:36 WARN  main org.hibernate.engine.jdbc.spi.SqlExceptionHelper SQL Error: 0, SQLState: 22001
2023-02-27 01:19:36 ERROR main org.hibernate.engine.jdbc.spi.SqlExceptionHelper ERROR: value too long for type character varying(255)
2023-02-27 01:19:36 INFO  main org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl HHH000010: On release of batch it still contained JDBC statements
2023-02-27 01:19:36 INFO  main org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-02-27 01:19:36 ERROR main org.springframework.boot.SpringApplication Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at org.leslie.auth.MainApplication.main(MainApplication.java:14)
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:273)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)
	at jdk.proxy2/jdk.proxy2.$Proxy108.save(Unknown Source)
	at org.leslie.auth.task.ProgramStartTask.insertDefaultOauth2Client(ProgramStartTask.java:84)
	at org.leslie.auth.task.ProgramStartTask.run(ProgramStartTask.java:57)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767)
	... 5 common frames omitted
Caused by: org.hibernate.exception.DataException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:101)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3423)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:4058)
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:477)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2234)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1930)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	... 22 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: value too long for type character varying(255)
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 42 common frames omitted
2023-02-27 01:19:36 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:19:36 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 01:19:36 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 01:20:31 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 8416 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 01:20:31 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 01:20:32 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 01:20:32 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 51 ms. Found 4 JPA repository interfaces.
2023-02-27 01:20:32 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 01:20:32 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 01:20:32 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 01:20:32 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 01:20:32 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 01:20:32 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 946 ms
2023-02-27 01:20:33 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 01:20:33 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 01:20:33 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 01:20:33 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 01:20:33 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 01:20:33 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@15586843
2023-02-27 01:20:33 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 01:20:33 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 01:20:33 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 01:20:34 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 01:20:34 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:20:34 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 01:20:34 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 01:20:34 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 01:20:34 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 01:20:34 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 01:20:35 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1338/0x00000008014995c0@570089c4 with [org.springframework.security.web.session.DisableEncodeUrlFilter@409df37d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ab1c7a9, org.springframework.security.web.context.SecurityContextHolderFilter@6779959d, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1c2273f6, org.springframework.security.web.header.HeaderWriterFilter@31ecb361, org.springframework.security.web.csrf.CsrfFilter@4cb939d5, org.springframework.security.web.authentication.logout.LogoutFilter@307ba188, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@507e3e77, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@344f4a82, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58a5b69c, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@339b45f8, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@25dacc5a, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5257123d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@294c36b9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69fa5536, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e818345, org.springframework.security.web.access.ExceptionTranslationFilter@4265cbed, org.springframework.security.web.access.intercept.AuthorizationFilter@709c6768, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@6b6cf3c1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@72924f19, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2719139f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1bdb6b36]
2023-02-27 01:20:35 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1b1d1558, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cc022ac, org.springframework.security.web.context.SecurityContextHolderFilter@57657b96, org.springframework.security.web.header.HeaderWriterFilter@7f6137fb, org.springframework.security.web.csrf.CsrfFilter@7ae75ba6, org.springframework.security.web.authentication.logout.LogoutFilter@1f8a1b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@11ec699, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@12ae75f1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7f219e84, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@179f30b7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64864875, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@42eaf47f, org.springframework.security.web.access.ExceptionTranslationFilter@2bab1821, org.springframework.security.web.access.intercept.AuthorizationFilter@376c5950]
2023-02-27 01:20:35 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 01:20:35 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 01:20:35 INFO  main org.leslie.auth.MainApplication Started MainApplication in 3.85 seconds (process running for 4.349)
2023-02-27 01:20:35 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 01:20:35 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 01:21:24 WARN  HikariPool-1 housekeeper com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s898ms).
2023-02-27 01:21:24 WARN  main org.hibernate.engine.jdbc.spi.SqlExceptionHelper SQL Error: 0, SQLState: 22001
2023-02-27 01:21:24 ERROR main org.hibernate.engine.jdbc.spi.SqlExceptionHelper ERROR: value too long for type character varying(255)
2023-02-27 01:21:24 INFO  main org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl HHH000010: On release of batch it still contained JDBC statements
2023-02-27 01:21:24 INFO  main org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-02-27 01:21:24 ERROR main org.springframework.boot.SpringApplication Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at org.leslie.auth.MainApplication.main(MainApplication.java:14)
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:273)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)
	at jdk.proxy2/jdk.proxy2.$Proxy108.save(Unknown Source)
	at org.leslie.auth.task.ProgramStartTask.insertDefaultOauth2Client(ProgramStartTask.java:84)
	at org.leslie.auth.task.ProgramStartTask.run(ProgramStartTask.java:57)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767)
	... 5 common frames omitted
Caused by: org.hibernate.exception.DataException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:101)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3423)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:4058)
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:477)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2234)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1930)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	... 22 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: value too long for type character varying(255)
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 42 common frames omitted
2023-02-27 01:21:24 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:21:24 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 01:21:24 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 01:31:14 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 8687 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 01:31:14 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 01:31:14 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 01:31:14 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2023-02-27 01:31:14 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 01:31:14 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 01:31:14 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 01:31:14 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 01:31:15 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 01:31:15 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 910 ms
2023-02-27 01:31:15 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 01:31:15 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 01:31:15 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 01:31:15 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 01:31:15 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 01:31:15 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@18e4551
2023-02-27 01:31:15 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 01:31:15 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 01:31:15 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 01:31:16 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 01:31:16 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:31:16 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 01:31:16 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 01:31:16 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 01:31:16 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 01:31:16 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 01:31:17 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1338/0x000000080148a098@4bc49d70 with [org.springframework.security.web.session.DisableEncodeUrlFilter@73543048, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1851f19f, org.springframework.security.web.context.SecurityContextHolderFilter@f9919a2, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7cd2d3b6, org.springframework.security.web.header.HeaderWriterFilter@1b18fa79, org.springframework.security.web.csrf.CsrfFilter@63767d, org.springframework.security.web.authentication.logout.LogoutFilter@2bfe4df9, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@3d84f113, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@760ac834, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@55da6bf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@344f4a82, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2e1003d9, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7de2c19c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54d116d5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f5d7091, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33f3ebfc, org.springframework.security.web.access.ExceptionTranslationFilter@103a1ad3, org.springframework.security.web.access.intercept.AuthorizationFilter@713c8cbb, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@39e91bda, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2f59cb6f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@769c80d1, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@e98004e]
2023-02-27 01:31:17 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4b407ac7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c5ae26d, org.springframework.security.web.context.SecurityContextHolderFilter@7ef34eb3, org.springframework.security.web.header.HeaderWriterFilter@1e8b0ab5, org.springframework.security.web.csrf.CsrfFilter@27b7913, org.springframework.security.web.authentication.logout.LogoutFilter@106c3e0a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58fbecde, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1b641c97, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5578ed7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2719139f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5dfc7b3f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dd5422f, org.springframework.security.web.access.ExceptionTranslationFilter@4d86f330, org.springframework.security.web.access.intercept.AuthorizationFilter@154cbb46]
2023-02-27 01:31:17 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 01:31:17 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 01:31:17 INFO  main org.leslie.auth.MainApplication Started MainApplication in 3.674 seconds (process running for 4.07)
2023-02-27 01:31:17 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 01:31:17 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 01:31:17 INFO  main org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-02-27 01:31:17 ERROR main org.springframework.boot.SpringApplication Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at org.leslie.auth.MainApplication.main(MainApplication.java:14)
Caused by: org.springframework.orm.jpa.JpaSystemException: ids for this class must be manually assigned before calling save(): org.leslie.auth.entity.Oauth2RegisteredClient
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:321)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)
	at jdk.proxy2/jdk.proxy2.$Proxy108.save(Unknown Source)
	at org.leslie.auth.task.ProgramStartTask.insertDefaultOauth2Client(ProgramStartTask.java:84)
	at org.leslie.auth.task.ProgramStartTask.run(ProgramStartTask.java:57)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767)
	... 5 common frames omitted
Caused by: org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): org.leslie.auth.entity.Oauth2RegisteredClient
	at org.hibernate.id.Assigned.generate(Assigned.java:33)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:114)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:737)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:721)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:307)
	at jdk.proxy2/jdk.proxy2.$Proxy105.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:610)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 15 common frames omitted
2023-02-27 01:31:17 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:31:17 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 01:31:17 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 01:32:42 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 8740 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 01:32:42 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 01:32:42 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 01:32:42 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 48 ms. Found 4 JPA repository interfaces.
2023-02-27 01:32:43 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 01:32:43 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 01:32:43 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 01:32:43 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 01:32:43 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 01:32:43 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 914 ms
2023-02-27 01:32:43 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 01:32:43 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 01:32:43 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 01:32:43 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 01:32:43 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 01:32:43 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@62058742
2023-02-27 01:32:43 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 01:32:43 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 01:32:43 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 01:32:44 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 01:32:44 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:32:44 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 01:32:44 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 01:32:44 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 01:32:44 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 01:32:44 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 01:32:46 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1338/0x00000008014895c0@702e21c with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c450960, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c5fbde4, org.springframework.security.web.context.SecurityContextHolderFilter@2a728076, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6441cff1, org.springframework.security.web.header.HeaderWriterFilter@34128fed, org.springframework.security.web.csrf.CsrfFilter@671c71e8, org.springframework.security.web.authentication.logout.LogoutFilter@282079b9, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@779cda39, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@22cca101, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5ab1107d, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@6c8f5262, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@643f8ebe, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3652dd19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@67fda9fb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ec98548, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7021bb55, org.springframework.security.web.access.ExceptionTranslationFilter@18b88f7, org.springframework.security.web.access.intercept.AuthorizationFilter@490f2fad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@3c00da24, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@1e60890c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@55b7f9f1, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@700596f9]
2023-02-27 01:32:46 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2688b2be, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30d3f583, org.springframework.security.web.context.SecurityContextHolderFilter@4c5ae26d, org.springframework.security.web.header.HeaderWriterFilter@4b407ac7, org.springframework.security.web.csrf.CsrfFilter@299615a5, org.springframework.security.web.authentication.logout.LogoutFilter@1cd853ee, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@66be0e72, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@158b8d10, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3344c1d7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5578ed7e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5dd5422f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73b034ca, org.springframework.security.web.access.ExceptionTranslationFilter@3ba6707e, org.springframework.security.web.access.intercept.AuthorizationFilter@22c14d10]
2023-02-27 01:32:46 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 01:32:46 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 01:32:46 INFO  main org.leslie.auth.MainApplication Started MainApplication in 4.619 seconds (process running for 5.055)
2023-02-27 01:32:46 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 01:32:46 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 01:32:46 WARN  main org.hibernate.engine.jdbc.spi.SqlExceptionHelper SQL Error: 0, SQLState: 22001
2023-02-27 01:32:46 ERROR main org.hibernate.engine.jdbc.spi.SqlExceptionHelper ERROR: value too long for type character varying(255)
2023-02-27 01:32:46 INFO  main org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl HHH000010: On release of batch it still contained JDBC statements
2023-02-27 01:32:46 INFO  main org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-02-27 01:32:46 ERROR main org.springframework.boot.SpringApplication Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at org.leslie.auth.MainApplication.main(MainApplication.java:14)
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:273)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)
	at jdk.proxy2/jdk.proxy2.$Proxy108.save(Unknown Source)
	at org.leslie.auth.task.ProgramStartTask.insertDefaultOauth2Client(ProgramStartTask.java:86)
	at org.leslie.auth.task.ProgramStartTask.run(ProgramStartTask.java:58)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767)
	... 5 common frames omitted
Caused by: org.hibernate.exception.DataException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:101)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3423)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:4058)
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:477)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2234)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1930)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	... 22 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: value too long for type character varying(255)
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 42 common frames omitted
2023-02-27 01:32:46 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:32:46 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 01:32:46 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 01:33:35 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 8765 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 01:33:35 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 01:33:36 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 01:33:36 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 52 ms. Found 4 JPA repository interfaces.
2023-02-27 01:33:36 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 01:33:36 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 01:33:36 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 01:33:36 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 01:33:36 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 01:33:36 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 1012 ms
2023-02-27 01:33:36 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 01:33:36 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 01:33:36 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 01:33:37 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 01:33:37 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 01:33:37 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@15586843
2023-02-27 01:33:37 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 01:33:37 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 01:33:37 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 01:33:37 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 01:33:37 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:33:38 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 01:33:38 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 01:33:38 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 01:33:38 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 01:33:38 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 01:33:39 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1338/0x0000000801499e70@655d5285 with [org.springframework.security.web.session.DisableEncodeUrlFilter@36f1bd7e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c2273f6, org.springframework.security.web.context.SecurityContextHolderFilter@7a8e484b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b22bcad, org.springframework.security.web.header.HeaderWriterFilter@551976c2, org.springframework.security.web.csrf.CsrfFilter@23d0f6be, org.springframework.security.web.authentication.logout.LogoutFilter@40dd2cfe, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@51806858, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@347f0950, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5dfc7b3f, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@1f062e10, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@15ab0461, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1e3689e7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65013d71, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4cb939d5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@411e567e, org.springframework.security.web.access.ExceptionTranslationFilter@7dd92a36, org.springframework.security.web.access.intercept.AuthorizationFilter@2a22e7e2, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@68a1bb31, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@197da701, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7021bb55, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3344c1d7]
2023-02-27 01:33:39 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@74ec4df3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5482b32a, org.springframework.security.web.context.SecurityContextHolderFilter@12921ee1, org.springframework.security.web.header.HeaderWriterFilter@c2ddfeb, org.springframework.security.web.csrf.CsrfFilter@189f9f9f, org.springframework.security.web.authentication.logout.LogoutFilter@17e725fb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4fbdee7a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4b89515b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6bf2ecbb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7695184b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29390110, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1300112e, org.springframework.security.web.access.ExceptionTranslationFilter@5b908c6d, org.springframework.security.web.access.intercept.AuthorizationFilter@77350382]
2023-02-27 01:33:39 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 01:33:39 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 01:33:39 INFO  main org.leslie.auth.MainApplication Started MainApplication in 4.187 seconds (process running for 4.725)
2023-02-27 01:33:39 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 01:33:39 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 01:35:43 WARN  HikariPool-1 housekeeper com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m6s43ms).
2023-02-27 01:35:43 WARN  main org.hibernate.engine.jdbc.spi.SqlExceptionHelper SQL Error: 0, SQLState: 42P01
2023-02-27 01:35:43 ERROR main org.hibernate.engine.jdbc.spi.SqlExceptionHelper ERROR: relation "usr.t_oauth2_registered_client" does not exist
  位置：265
2023-02-27 01:35:43 INFO  main org.hibernate.event.internal.DefaultLoadEventListener HHH000327: Error performing load command
org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select o1_0.id,o1_0.authorization_grant_types,o1_0.client_authentication_methods,o1_0.client_id,o1_0.client_id_issued_at,o1_0.client_name,o1_0.client_secret,o1_0.client_secret_expires_at,o1_0.client_settings,o1_0.redirect_uris,o1_0.scopes,o1_0.token_settings from usr.t_oauth2_registered_client o1_0 where o1_0.id=?]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:253)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:146)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:205)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:85)
	at org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:29)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:88)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:183)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:443)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:140)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:110)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:72)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:4401)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4391)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:597)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:570)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:224)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:363)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:113)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:75)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1244)
	at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1232)
	at org.hibernate.loader.access.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:195)
	at org.hibernate.loader.access.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:161)
	at org.hibernate.loader.access.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:108)
	at org.hibernate.loader.access.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:161)
	at org.hibernate.internal.SessionImpl.get(SessionImpl.java:1028)
	at org.hibernate.event.internal.DefaultMergeEventListener.lambda$entityIsDetached$0(DefaultMergeEventListener.java:344)
	at org.hibernate.engine.spi.LoadQueryInfluencers.fromInternalFetchProfile(LoadQueryInfluencers.java:79)
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:342)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:178)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:81)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:830)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:307)
	at jdk.proxy2/jdk.proxy2.$Proxy105.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:613)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)
	at jdk.proxy2/jdk.proxy2.$Proxy108.save(Unknown Source)
	at org.leslie.auth.task.ProgramStartTask.insertDefaultOauth2Client(ProgramStartTask.java:86)
	at org.leslie.auth.task.ProgramStartTask.run(ProgramStartTask.java:58)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at org.leslie.auth.MainApplication.main(MainApplication.java:14)
Caused by: org.postgresql.util.PSQLException: ERROR: relation "usr.t_oauth2_registered_client" does not exist
  位置：265
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:217)
	... 81 common frames omitted
2023-02-27 01:35:43 INFO  main org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-02-27 01:35:43 ERROR main org.springframework.boot.SpringApplication Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at org.leslie.auth.MainApplication.main(MainApplication.java:14)
Caused by: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select o1_0.id,o1_0.authorization_grant_types,o1_0.client_authentication_methods,o1_0.client_id,o1_0.client_id_issued_at,o1_0.client_name,o1_0.client_secret,o1_0.client_secret_expires_at,o1_0.client_settings,o1_0.redirect_uris,o1_0.scopes,o1_0.token_settings from usr.t_oauth2_registered_client o1_0 where o1_0.id=?]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:257)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)
	at jdk.proxy2/jdk.proxy2.$Proxy108.save(Unknown Source)
	at org.leslie.auth.task.ProgramStartTask.insertDefaultOauth2Client(ProgramStartTask.java:86)
	at org.leslie.auth.task.ProgramStartTask.run(ProgramStartTask.java:58)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767)
	... 5 common frames omitted
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select o1_0.id,o1_0.authorization_grant_types,o1_0.client_authentication_methods,o1_0.client_id,o1_0.client_id_issued_at,o1_0.client_name,o1_0.client_secret,o1_0.client_secret_expires_at,o1_0.client_settings,o1_0.redirect_uris,o1_0.scopes,o1_0.token_settings from usr.t_oauth2_registered_client o1_0 where o1_0.id=?]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:253)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:146)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:205)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:85)
	at org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:29)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:88)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:183)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:443)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:140)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:110)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:72)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:4401)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4391)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:597)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:570)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:224)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:363)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:113)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:75)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1244)
	at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1232)
	at org.hibernate.loader.access.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:195)
	at org.hibernate.loader.access.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:161)
	at org.hibernate.loader.access.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:108)
	at org.hibernate.loader.access.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:161)
	at org.hibernate.internal.SessionImpl.get(SessionImpl.java:1028)
	at org.hibernate.event.internal.DefaultMergeEventListener.lambda$entityIsDetached$0(DefaultMergeEventListener.java:344)
	at org.hibernate.engine.spi.LoadQueryInfluencers.fromInternalFetchProfile(LoadQueryInfluencers.java:79)
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:342)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:178)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:81)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:830)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:307)
	at jdk.proxy2/jdk.proxy2.$Proxy105.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:613)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 15 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "usr.t_oauth2_registered_client" does not exist
  位置：265
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:217)
	... 81 common frames omitted
2023-02-27 01:35:43 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:35:43 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 01:35:43 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 01:35:49 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 8828 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 01:35:49 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 01:35:50 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 01:35:50 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 49 ms. Found 4 JPA repository interfaces.
2023-02-27 01:35:50 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 01:35:50 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 01:35:50 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 01:35:50 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 01:35:50 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 01:35:50 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 955 ms
2023-02-27 01:35:50 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 01:35:50 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 01:35:51 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 01:35:51 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 01:35:51 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 01:35:51 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@bb6f3f7
2023-02-27 01:35:51 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 01:35:51 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 01:35:51 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 01:35:51 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 01:35:51 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:35:52 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 01:35:52 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 01:35:52 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 01:35:52 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 01:35:52 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 01:35:53 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1338/0x000000080148a098@702e21c with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c450960, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c5fbde4, org.springframework.security.web.context.SecurityContextHolderFilter@2a728076, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6441cff1, org.springframework.security.web.header.HeaderWriterFilter@34128fed, org.springframework.security.web.csrf.CsrfFilter@671c71e8, org.springframework.security.web.authentication.logout.LogoutFilter@282079b9, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@779cda39, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@22cca101, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5ab1107d, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@6c8f5262, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@643f8ebe, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3652dd19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@67fda9fb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ec98548, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7021bb55, org.springframework.security.web.access.ExceptionTranslationFilter@18b88f7, org.springframework.security.web.access.intercept.AuthorizationFilter@490f2fad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@3c00da24, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@1e60890c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@55b7f9f1, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@700596f9]
2023-02-27 01:35:53 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2688b2be, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30d3f583, org.springframework.security.web.context.SecurityContextHolderFilter@4c5ae26d, org.springframework.security.web.header.HeaderWriterFilter@4b407ac7, org.springframework.security.web.csrf.CsrfFilter@299615a5, org.springframework.security.web.authentication.logout.LogoutFilter@1cd853ee, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@66be0e72, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@158b8d10, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3344c1d7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5578ed7e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5dd5422f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73b034ca, org.springframework.security.web.access.ExceptionTranslationFilter@3ba6707e, org.springframework.security.web.access.intercept.AuthorizationFilter@22c14d10]
2023-02-27 01:35:53 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 01:35:53 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 01:35:53 INFO  main org.leslie.auth.MainApplication Started MainApplication in 3.94 seconds (process running for 4.398)
2023-02-27 01:35:53 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 01:35:53 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 01:35:53 INFO  main org.leslie.auth.task.ProgramStartTask Insert default oauth2 client into db success
2023-02-27 01:35:53 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 01:46:47 INFO  http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 01:46:47 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 01:46:47 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 3 ms
2023-02-27 01:47:07 ERROR http-nio-20000-exec-7 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest is in unnamed module of loader 'app')
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationConsentAuthenticationProvider.authenticate(OAuth2AuthorizationConsentAuthenticationProvider.java:126)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-27 01:49:38 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:49:38 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 01:49:38 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 01:49:44 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 9278 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 01:49:44 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 01:49:44 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 01:49:44 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 54 ms. Found 4 JPA repository interfaces.
2023-02-27 01:49:45 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 01:49:45 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 01:49:45 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 01:49:45 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 01:49:45 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 01:49:45 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 1080 ms
2023-02-27 01:49:45 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 01:49:45 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 01:49:45 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 01:49:45 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 01:49:45 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 01:49:45 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@baa227e
2023-02-27 01:49:45 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 01:49:45 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 01:49:45 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 01:49:46 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 01:49:46 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:49:46 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 01:49:46 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 01:49:46 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 01:49:46 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 01:49:46 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 01:49:47 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1338/0x00000008014995c0@381d7c4c with [org.springframework.security.web.session.DisableEncodeUrlFilter@1e3689e7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@259f0fdb, org.springframework.security.web.context.SecurityContextHolderFilter@551976c2, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3f9ee527, org.springframework.security.web.header.HeaderWriterFilter@686ace1f, org.springframework.security.web.csrf.CsrfFilter@4615bc00, org.springframework.security.web.authentication.logout.LogoutFilter@335a45a8, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@752e50c6, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@2898c70d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@1e8b0ab5, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@462deb2b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3c00da24, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@506d7fed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f815f93, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@30a99b85, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@655d5285, org.springframework.security.web.access.ExceptionTranslationFilter@6079d219, org.springframework.security.web.access.intercept.AuthorizationFilter@779cda39, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@700596f9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@33f3ebfc, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@702e21c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@e09c7a2]
2023-02-27 01:49:47 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4fbdee7a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@615bd28b, org.springframework.security.web.context.SecurityContextHolderFilter@189f9f9f, org.springframework.security.web.header.HeaderWriterFilter@6e2e11ee, org.springframework.security.web.csrf.CsrfFilter@a6924ad, org.springframework.security.web.authentication.logout.LogoutFilter@29390110, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@17e725fb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@12921ee1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2b9a7211, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b908c6d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c2ddfeb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@74ec4df3, org.springframework.security.web.access.ExceptionTranslationFilter@33fc92d6, org.springframework.security.web.access.intercept.AuthorizationFilter@496e2bdd]
2023-02-27 01:49:47 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 01:49:47 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 01:49:47 INFO  main org.leslie.auth.MainApplication Started MainApplication in 4.406 seconds (process running for 5.02)
2023-02-27 01:49:47 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 01:49:47 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 01:49:48 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 01:49:52 INFO  http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 01:49:52 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 01:49:52 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 1 ms
2023-02-27 01:51:13 ERROR http-nio-20000-exec-9 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest is in unnamed module of loader 'app')
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationConsentAuthenticationProvider.authenticate(OAuth2AuthorizationConsentAuthenticationProvider.java:126)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-27 01:51:13 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:51:13 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 01:51:13 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 01:54:39 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 9426 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 01:54:39 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 01:54:40 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 01:54:40 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 49 ms. Found 4 JPA repository interfaces.
2023-02-27 01:54:40 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 01:54:40 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 01:54:40 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 01:54:40 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 01:54:40 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 01:54:40 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 984 ms
2023-02-27 01:54:40 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 01:54:40 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 01:54:40 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 01:54:40 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 01:54:40 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 01:54:41 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3d0352
2023-02-27 01:54:41 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 01:54:41 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 01:54:41 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 01:54:41 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 01:54:41 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:54:41 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 01:54:42 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 01:54:42 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 01:54:42 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 01:54:42 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 01:54:43 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1338/0x0000000801495b78@7ae75ba6 with [org.springframework.security.web.session.DisableEncodeUrlFilter@2bab1821, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f6137fb, org.springframework.security.web.context.SecurityContextHolderFilter@5924ea91, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@c2ddfeb, org.springframework.security.web.header.HeaderWriterFilter@1ea78c72, org.springframework.security.web.csrf.CsrfFilter@38568876, org.springframework.security.web.authentication.logout.LogoutFilter@3be2ef56, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@33f3ebfc, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@6f0df74, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@339b45f8, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@615bd28b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3956e933, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@37aec9b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@709c6768, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39e91bda, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57657b96, org.springframework.security.web.access.ExceptionTranslationFilter@73f0b216, org.springframework.security.web.access.intercept.AuthorizationFilter@1e60890c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@58fbecde, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@3b22bcad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@13563e64, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@54644470]
2023-02-27 01:54:43 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e07dc23, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7859fc7, org.springframework.security.web.context.SecurityContextHolderFilter@50f5ce5b, org.springframework.security.web.header.HeaderWriterFilter@79c4454, org.springframework.security.web.csrf.CsrfFilter@147ea894, org.springframework.security.web.authentication.logout.LogoutFilter@22f756c5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@36def543, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1a507ea0, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@519e14f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31aee6d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f0b2bf1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10ab976b, org.springframework.security.web.access.ExceptionTranslationFilter@38aed8ad, org.springframework.security.web.access.intercept.AuthorizationFilter@1d397e87]
2023-02-27 01:54:43 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 01:54:43 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 01:54:43 INFO  main org.leslie.auth.MainApplication Started MainApplication in 4.285 seconds (process running for 4.704)
2023-02-27 01:54:43 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 01:54:43 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 01:54:43 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 01:54:53 INFO  http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 01:54:53 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 01:54:53 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 1 ms
2023-02-27 01:55:17 ERROR http-nio-20000-exec-9 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.IllegalArgumentException: The class with org.leslie.auth.entity.Admin and name of org.leslie.auth.entity.Admin is not in the allowlist. If you believe this class is safe to deserialize, please provide an explicit mapping using Jackson annotations or by providing a Mixin. If the serialization is only done by a trusted source, you can also enable default typing. See https://github.com/spring-projects/spring-security/issues/4370 for details
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.parseMap(JpaOAuth2AuthorizationServiceImpl.java:231)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.lambda$toObject$0(JpaOAuth2AuthorizationServiceImpl.java:109)
	at org.springframework.security.oauth2.server.authorization.OAuth2Authorization$Builder.attributes(OAuth2Authorization.java:524)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.toObject(JpaOAuth2AuthorizationServiceImpl.java:109)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.findByToken(JpaOAuth2AuthorizationServiceImpl.java:94)
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationConsentAuthenticationProvider.authenticate(OAuth2AuthorizationConsentAuthenticationProvider.java:97)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalArgumentException: The class with org.leslie.auth.entity.Admin and name of org.leslie.auth.entity.Admin is not in the allowlist. If you believe this class is safe to deserialize, please provide an explicit mapping using Jackson annotations or by providing a Mixin. If the serialization is only done by a trusted source, you can also enable default typing. See https://github.com/spring-projects/spring-security/issues/4370 for details
	at org.springframework.security.jackson2.SecurityJackson2Modules$AllowlistTypeIdResolver.typeFromId(SecurityJackson2Modules.java:265)
	at com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._findDeserializer(TypeDeserializerBase.java:159)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:125)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:213)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserializeWithType(UntypedObjectDeserializerNR.java:115)
	at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4706)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2879)
	at org.springframework.security.jackson2.UsernamePasswordAuthenticationTokenDeserializer.getPrincipal(UsernamePasswordAuthenticationTokenDeserializer.java:104)
	at org.springframework.security.jackson2.UsernamePasswordAuthenticationTokenDeserializer.deserialize(UsernamePasswordAuthenticationTokenDeserializer.java:75)
	at org.springframework.security.jackson2.UsernamePasswordAuthenticationTokenDeserializer.deserialize(UsernamePasswordAuthenticationTokenDeserializer.java:51)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:213)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserializeWithType(UntypedObjectDeserializerNR.java:115)
	at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4706)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2879)
	at org.springframework.security.oauth2.server.authorization.jackson2.UnmodifiableMapDeserializer.deserialize(UnmodifiableMapDeserializer.java:47)
	at org.springframework.security.oauth2.server.authorization.jackson2.UnmodifiableMapDeserializer.deserialize(UnmodifiableMapDeserializer.java:37)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserializeWithType(MapDeserializer.java:492)
	at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4730)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3660)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.parseMap(JpaOAuth2AuthorizationServiceImpl.java:228)
	... 69 common frames omitted
2023-02-27 01:58:49 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:58:49 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 01:58:49 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 01:58:52 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 9574 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 01:58:52 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 01:58:53 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 01:58:53 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 49 ms. Found 4 JPA repository interfaces.
2023-02-27 01:58:53 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 01:58:53 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 01:58:53 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 01:58:53 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 01:58:53 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 01:58:53 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 957 ms
2023-02-27 01:58:53 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 01:58:53 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 01:58:54 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 01:58:54 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 01:58:54 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 01:58:54 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3d0352
2023-02-27 01:58:54 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 01:58:54 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 01:58:54 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 01:58:54 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 01:58:54 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:58:55 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 01:58:55 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 01:58:55 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 01:58:55 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 01:58:55 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 01:58:56 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1338/0x00000008014897e8@77737e3e with [org.springframework.security.web.session.DisableEncodeUrlFilter@42e32feb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3652dd19, org.springframework.security.web.context.SecurityContextHolderFilter@128ebca1, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@33293b34, org.springframework.security.web.header.HeaderWriterFilter@13e6ab86, org.springframework.security.web.csrf.CsrfFilter@27f8f1cc, org.springframework.security.web.authentication.logout.LogoutFilter@f4aec23, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@69fa5536, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@adbc3bc, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2898c70d, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d7df55, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@551976c2, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@197da701, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10efb806, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67fda9fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b6cf3c1, org.springframework.security.web.access.ExceptionTranslationFilter@7057d9f4, org.springframework.security.web.access.intercept.AuthorizationFilter@56e9126f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@21f27bb5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@3bbb3c84, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@167ccc3c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1509bd56]
2023-02-27 01:58:56 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@22c14d10, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66be0e72, org.springframework.security.web.context.SecurityContextHolderFilter@58fbecde, org.springframework.security.web.header.HeaderWriterFilter@154cbb46, org.springframework.security.web.csrf.CsrfFilter@106c3e0a, org.springframework.security.web.authentication.logout.LogoutFilter@5578ed7e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e594c46, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4b407ac7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@38276668, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@299615a5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ba6707e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e09c7a2, org.springframework.security.web.access.ExceptionTranslationFilter@2e778abb, org.springframework.security.web.access.intercept.AuthorizationFilter@158b8d10]
2023-02-27 01:58:56 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 01:58:56 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 01:58:56 INFO  main org.leslie.auth.MainApplication Started MainApplication in 4.364 seconds (process running for 4.787)
2023-02-27 01:58:56 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 01:58:56 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 01:58:56 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 01:59:06 INFO  http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 01:59:06 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 01:59:06 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 1 ms
2023-02-27 01:59:15 ERROR http-nio-20000-exec-7 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest is in unnamed module of loader 'app')
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationConsentAuthenticationProvider.authenticate(OAuth2AuthorizationConsentAuthenticationProvider.java:126)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-27 01:59:57 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:59:57 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 01:59:57 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 02:00:10 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 9623 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 02:00:10 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 02:00:11 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 02:00:11 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 56 ms. Found 4 JPA repository interfaces.
2023-02-27 02:00:11 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 02:00:11 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 02:00:11 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 02:00:11 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 02:00:12 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 02:00:12 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 1100 ms
2023-02-27 02:00:12 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 02:00:12 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 02:00:12 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 02:00:12 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 02:00:12 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 02:00:12 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@351e89fc
2023-02-27 02:00:12 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 02:00:12 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 02:00:12 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 02:00:13 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 02:00:13 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:00:13 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 02:00:13 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 02:00:13 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 02:00:13 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 02:00:13 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 02:00:15 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1338/0x00000008014a5b78@453bbb9b with [org.springframework.security.web.session.DisableEncodeUrlFilter@170b27a7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@79392584, org.springframework.security.web.context.SecurityContextHolderFilter@3956e933, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@41d6d6c4, org.springframework.security.web.header.HeaderWriterFilter@27563444, org.springframework.security.web.csrf.CsrfFilter@113a89c5, org.springframework.security.web.authentication.logout.LogoutFilter@7de2c19c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4d20cbb5, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@339b45f8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@6d18401b, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@64e680c5, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@4c5ae26d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@b3cbc0e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e98004e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79827e71, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@cf82c58, org.springframework.security.web.access.ExceptionTranslationFilter@1db7c267, org.springframework.security.web.access.intercept.AuthorizationFilter@35fd03d9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@189f9f9f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@3db145f7, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@179f30b7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2b0d6bf2]
2023-02-27 02:00:15 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1aa64998, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@571b4bf6, org.springframework.security.web.context.SecurityContextHolderFilter@70736b19, org.springframework.security.web.header.HeaderWriterFilter@18a538a0, org.springframework.security.web.csrf.CsrfFilter@67c1fc9b, org.springframework.security.web.authentication.logout.LogoutFilter@4bb4cc8c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@771b2b5b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4b8466c2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@24ffe853, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@183e64a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a553110, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a904e64, org.springframework.security.web.access.ExceptionTranslationFilter@50f65fe0, org.springframework.security.web.access.intercept.AuthorizationFilter@70e07ef8]
2023-02-27 02:00:15 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 02:00:15 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 02:00:15 INFO  main org.leslie.auth.MainApplication Started MainApplication in 5.06 seconds (process running for 5.594)
2023-02-27 02:00:15 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 02:00:15 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:00:15 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:00:21 INFO  http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 02:00:21 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 02:00:21 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 2 ms
2023-02-27 02:00:52 ERROR http-nio-20000-exec-7 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.IllegalArgumentException: The class with org.leslie.auth.entity.Admin and name of org.leslie.auth.entity.Admin is not in the allowlist. If you believe this class is safe to deserialize, please provide an explicit mapping using Jackson annotations or by providing a Mixin. If the serialization is only done by a trusted source, you can also enable default typing. See https://github.com/spring-projects/spring-security/issues/4370 for details
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.parseMap(JpaOAuth2AuthorizationServiceImpl.java:231)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.lambda$toObject$0(JpaOAuth2AuthorizationServiceImpl.java:109)
	at org.springframework.security.oauth2.server.authorization.OAuth2Authorization$Builder.attributes(OAuth2Authorization.java:524)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.toObject(JpaOAuth2AuthorizationServiceImpl.java:109)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.findByToken(JpaOAuth2AuthorizationServiceImpl.java:94)
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationConsentAuthenticationProvider.authenticate(OAuth2AuthorizationConsentAuthenticationProvider.java:97)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalArgumentException: The class with org.leslie.auth.entity.Admin and name of org.leslie.auth.entity.Admin is not in the allowlist. If you believe this class is safe to deserialize, please provide an explicit mapping using Jackson annotations or by providing a Mixin. If the serialization is only done by a trusted source, you can also enable default typing. See https://github.com/spring-projects/spring-security/issues/4370 for details
	at org.springframework.security.jackson2.SecurityJackson2Modules$AllowlistTypeIdResolver.typeFromId(SecurityJackson2Modules.java:265)
	at com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._findDeserializer(TypeDeserializerBase.java:159)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:125)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:213)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserializeWithType(UntypedObjectDeserializerNR.java:115)
	at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4706)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2879)
	at org.springframework.security.jackson2.UsernamePasswordAuthenticationTokenDeserializer.getPrincipal(UsernamePasswordAuthenticationTokenDeserializer.java:104)
	at org.springframework.security.jackson2.UsernamePasswordAuthenticationTokenDeserializer.deserialize(UsernamePasswordAuthenticationTokenDeserializer.java:75)
	at org.springframework.security.jackson2.UsernamePasswordAuthenticationTokenDeserializer.deserialize(UsernamePasswordAuthenticationTokenDeserializer.java:51)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:213)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserializeWithType(UntypedObjectDeserializerNR.java:115)
	at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4706)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2879)
	at org.springframework.security.oauth2.server.authorization.jackson2.UnmodifiableMapDeserializer.deserialize(UnmodifiableMapDeserializer.java:47)
	at org.springframework.security.oauth2.server.authorization.jackson2.UnmodifiableMapDeserializer.deserialize(UnmodifiableMapDeserializer.java:37)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserializeWithType(MapDeserializer.java:492)
	at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4730)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3660)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.parseMap(JpaOAuth2AuthorizationServiceImpl.java:228)
	... 69 common frames omitted
2023-02-27 02:01:24 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:01:24 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 02:01:24 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 02:01:33 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 9690 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 02:01:33 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 02:01:34 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 02:01:34 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 48 ms. Found 4 JPA repository interfaces.
2023-02-27 02:01:34 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 02:01:34 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 02:01:34 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 02:01:34 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 02:01:34 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 02:01:34 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 1025 ms
2023-02-27 02:01:35 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 02:01:35 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 02:01:35 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 02:01:35 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 02:01:35 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 02:01:35 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6fd1ea75
2023-02-27 02:01:35 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 02:01:35 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 02:01:35 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 02:01:36 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 02:01:36 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:01:36 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 02:01:36 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 02:01:36 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 02:01:36 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 02:01:36 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 02:01:37 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1338/0x0000000801488d10@4bc49d70 with [org.springframework.security.web.session.DisableEncodeUrlFilter@73543048, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1851f19f, org.springframework.security.web.context.SecurityContextHolderFilter@f9919a2, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7cd2d3b6, org.springframework.security.web.header.HeaderWriterFilter@1b18fa79, org.springframework.security.web.csrf.CsrfFilter@63767d, org.springframework.security.web.authentication.logout.LogoutFilter@2bfe4df9, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@3d84f113, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@760ac834, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@55da6bf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@344f4a82, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2e1003d9, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7de2c19c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54d116d5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f5d7091, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33f3ebfc, org.springframework.security.web.access.ExceptionTranslationFilter@103a1ad3, org.springframework.security.web.access.intercept.AuthorizationFilter@713c8cbb, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@39e91bda, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2f59cb6f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@769c80d1, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@e98004e]
2023-02-27 02:01:37 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4b407ac7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c5ae26d, org.springframework.security.web.context.SecurityContextHolderFilter@7ef34eb3, org.springframework.security.web.header.HeaderWriterFilter@1e8b0ab5, org.springframework.security.web.csrf.CsrfFilter@27b7913, org.springframework.security.web.authentication.logout.LogoutFilter@106c3e0a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58fbecde, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1b641c97, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5578ed7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2719139f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5dfc7b3f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dd5422f, org.springframework.security.web.access.ExceptionTranslationFilter@4d86f330, org.springframework.security.web.access.intercept.AuthorizationFilter@154cbb46]
2023-02-27 02:01:37 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 02:01:37 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 02:01:37 INFO  main org.leslie.auth.MainApplication Started MainApplication in 4.444 seconds (process running for 4.873)
2023-02-27 02:01:37 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 02:01:37 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:01:37 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:02:05 INFO  http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 02:02:05 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 02:02:05 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 1 ms
2023-02-27 02:02:17 ERROR http-nio-20000-exec-9 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest is in unnamed module of loader 'app')
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationConsentAuthenticationProvider.authenticate(OAuth2AuthorizationConsentAuthenticationProvider.java:126)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-27 02:07:20 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:07:20 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 02:07:20 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 02:07:24 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 9850 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 02:07:24 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 02:07:24 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 02:07:24 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 53 ms. Found 4 JPA repository interfaces.
2023-02-27 02:07:25 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 02:07:25 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 02:07:25 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 02:07:25 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 02:07:25 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 02:07:25 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 1009 ms
2023-02-27 02:07:25 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 02:07:25 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 02:07:25 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 02:07:25 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 02:07:25 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 02:07:25 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@351e89fc
2023-02-27 02:07:25 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 02:07:25 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 02:07:25 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 02:07:26 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 02:07:26 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:07:26 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 02:07:26 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 02:07:26 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 02:07:26 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 02:07:26 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 02:07:27 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1338/0x0000000801499e70@1e3689e7 with [org.springframework.security.web.session.DisableEncodeUrlFilter@259f0fdb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@655d5285, org.springframework.security.web.context.SecurityContextHolderFilter@6bbd4048, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2a41d17a, org.springframework.security.web.header.HeaderWriterFilter@7dd92a36, org.springframework.security.web.csrf.CsrfFilter@37f75ebf, org.springframework.security.web.authentication.logout.LogoutFilter@294c36b9, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2bef33e7, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@ec67be1, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@7ef34eb3, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@381c826c, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@430dbcb0, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1bdb6b36, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a8e484b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@386d41cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@36f1bd7e, org.springframework.security.web.access.ExceptionTranslationFilter@4ed90b04, org.springframework.security.web.access.intercept.AuthorizationFilter@4205d1c9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@2ac00dc9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@5cb3cfef, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5c450960, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2688b2be]
2023-02-27 02:07:27 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@615bd28b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b9a7211, org.springframework.security.web.context.SecurityContextHolderFilter@5b908c6d, org.springframework.security.web.header.HeaderWriterFilter@189f9f9f, org.springframework.security.web.csrf.CsrfFilter@33fc92d6, org.springframework.security.web.authentication.logout.LogoutFilter@4b89515b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@76379796, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7695184b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@74ec4df3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c2ddfeb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12921ee1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5482b32a, org.springframework.security.web.access.ExceptionTranslationFilter@6e2e11ee, org.springframework.security.web.access.intercept.AuthorizationFilter@17e725fb]
2023-02-27 02:07:27 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 02:07:27 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 02:07:27 INFO  main org.leslie.auth.MainApplication Started MainApplication in 4.309 seconds (process running for 4.783)
2023-02-27 02:07:27 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 02:07:27 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:07:28 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:07:42 INFO  http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 02:07:42 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 02:07:42 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 1 ms
2023-02-27 02:08:53 WARN  HikariPool-1 housekeeper com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s665ms).
2023-02-27 02:10:17 WARN  HikariPool-1 housekeeper com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m23s571ms).
2023-02-27 02:10:29 ERROR http-nio-20000-exec-6 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest is in unnamed module of loader 'app')
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationConsentAuthenticationProvider.authenticate(OAuth2AuthorizationConsentAuthenticationProvider.java:126)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-27 02:14:52 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:14:52 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 02:14:52 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 02:14:56 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 10083 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 02:14:56 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 02:14:57 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 02:14:57 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 41 ms. Found 4 JPA repository interfaces.
2023-02-27 02:14:57 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 02:14:57 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 02:14:57 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 02:14:57 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 02:14:57 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 02:14:57 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 802 ms
2023-02-27 02:14:57 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 02:14:57 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 02:14:57 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 02:14:57 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 02:14:57 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 02:14:57 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@62058742
2023-02-27 02:14:57 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 02:14:57 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 02:14:57 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 02:14:58 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 02:14:58 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:14:58 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 02:14:58 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 02:14:58 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 02:14:58 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 02:14:58 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 02:15:00 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1338/0x0000000801495b78@57657b96 with [org.springframework.security.web.session.DisableEncodeUrlFilter@179f30b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64864875, org.springframework.security.web.context.SecurityContextHolderFilter@3e356ed6, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@29390110, org.springframework.security.web.header.HeaderWriterFilter@5924ea91, org.springframework.security.web.csrf.CsrfFilter@5a1a5521, org.springframework.security.web.authentication.logout.LogoutFilter@4791d904, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@197da701, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@28901fe7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@7d43c89f, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5482b32a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@368e7d3a, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2bab1821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a5d9ede, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@712dd0b0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12ae75f1, org.springframework.security.web.access.ExceptionTranslationFilter@3437fc4f, org.springframework.security.web.access.intercept.AuthorizationFilter@40aaf656, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@4b407ac7, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2257590f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@6a08113d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@6e2e11ee]
2023-02-27 02:15:00 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10ab976b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5da799, org.springframework.security.web.context.SecurityContextHolderFilter@1a507ea0, org.springframework.security.web.header.HeaderWriterFilter@7f0b2bf1, org.springframework.security.web.csrf.CsrfFilter@50f5ce5b, org.springframework.security.web.authentication.logout.LogoutFilter@36def543, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@519e14f6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@485a5c9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2b0d6bf2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64a9fca7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22f756c5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a15e3c1, org.springframework.security.web.access.ExceptionTranslationFilter@31aee6d9, org.springframework.security.web.access.intercept.AuthorizationFilter@7859fc7]
2023-02-27 02:15:00 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 02:15:00 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 02:15:00 INFO  main org.leslie.auth.MainApplication Started MainApplication in 4.619 seconds (process running for 4.975)
2023-02-27 02:15:00 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 02:15:00 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:15:00 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:15:06 INFO  http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 02:15:06 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 02:15:06 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 1 ms
2023-02-27 02:15:17 ERROR http-nio-20000-exec-5 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.IllegalArgumentException: The class with org.leslie.auth.entity.Admin and name of org.leslie.auth.entity.Admin is not in the allowlist. If you believe this class is safe to deserialize, please provide an explicit mapping using Jackson annotations or by providing a Mixin. If the serialization is only done by a trusted source, you can also enable default typing. See https://github.com/spring-projects/spring-security/issues/4370 for details
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.parseMap(JpaOAuth2AuthorizationServiceImpl.java:231)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.lambda$toObject$0(JpaOAuth2AuthorizationServiceImpl.java:109)
	at org.springframework.security.oauth2.server.authorization.OAuth2Authorization$Builder.attributes(OAuth2Authorization.java:524)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.toObject(JpaOAuth2AuthorizationServiceImpl.java:109)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.findByToken(JpaOAuth2AuthorizationServiceImpl.java:94)
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationConsentAuthenticationProvider.authenticate(OAuth2AuthorizationConsentAuthenticationProvider.java:97)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalArgumentException: The class with org.leslie.auth.entity.Admin and name of org.leslie.auth.entity.Admin is not in the allowlist. If you believe this class is safe to deserialize, please provide an explicit mapping using Jackson annotations or by providing a Mixin. If the serialization is only done by a trusted source, you can also enable default typing. See https://github.com/spring-projects/spring-security/issues/4370 for details
	at org.springframework.security.jackson2.SecurityJackson2Modules$AllowlistTypeIdResolver.typeFromId(SecurityJackson2Modules.java:265)
	at com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._findDeserializer(TypeDeserializerBase.java:159)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:125)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:213)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserializeWithType(UntypedObjectDeserializerNR.java:115)
	at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4706)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2879)
	at org.springframework.security.jackson2.UsernamePasswordAuthenticationTokenDeserializer.getPrincipal(UsernamePasswordAuthenticationTokenDeserializer.java:104)
	at org.springframework.security.jackson2.UsernamePasswordAuthenticationTokenDeserializer.deserialize(UsernamePasswordAuthenticationTokenDeserializer.java:75)
	at org.springframework.security.jackson2.UsernamePasswordAuthenticationTokenDeserializer.deserialize(UsernamePasswordAuthenticationTokenDeserializer.java:51)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:213)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserializeWithType(UntypedObjectDeserializerNR.java:115)
	at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4706)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2879)
	at org.springframework.security.oauth2.server.authorization.jackson2.UnmodifiableMapDeserializer.deserialize(UnmodifiableMapDeserializer.java:47)
	at org.springframework.security.oauth2.server.authorization.jackson2.UnmodifiableMapDeserializer.deserialize(UnmodifiableMapDeserializer.java:37)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserializeWithType(MapDeserializer.java:492)
	at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4730)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3660)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.parseMap(JpaOAuth2AuthorizationServiceImpl.java:228)
	... 69 common frames omitted
2023-02-27 02:17:13 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:17:13 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 02:17:13 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 02:17:16 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 10160 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 02:17:16 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 02:17:16 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 02:17:16 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2023-02-27 02:17:17 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 02:17:17 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 02:17:17 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 02:17:17 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 02:17:17 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 02:17:17 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 825 ms
2023-02-27 02:17:17 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 02:17:17 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 02:17:17 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 02:17:17 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 02:17:17 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 02:17:17 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@54329480
2023-02-27 02:17:17 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 02:17:17 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 02:17:17 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 02:17:18 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 02:17:18 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:17:18 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 02:17:18 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 02:17:18 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 02:17:18 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 02:17:18 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 02:17:19 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1337/0x0000000801494560@6cc022ac with [org.springframework.security.web.session.DisableEncodeUrlFilter@7f219e84, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42eaf47f, org.springframework.security.web.context.SecurityContextHolderFilter@2e2a2b07, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1300112e, org.springframework.security.web.header.HeaderWriterFilter@67e37d25, org.springframework.security.web.csrf.CsrfFilter@307ba188, org.springframework.security.web.authentication.logout.LogoutFilter@292b7a02, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@15e881c0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@40e41f88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@261c5d1f, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@34538ffe, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2ac00dc9, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@4eee730c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e1d2781, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15ab0461, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@312e8eaf, org.springframework.security.web.access.ExceptionTranslationFilter@6b3284, org.springframework.security.web.access.intercept.AuthorizationFilter@2bef33e7, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@2688b2be, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@f36c8b1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1e3689e7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@4fbdee7a]
2023-02-27 02:17:19 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@66c88fce, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ccfce5a, org.springframework.security.web.context.SecurityContextHolderFilter@a15e3c1, org.springframework.security.web.header.HeaderWriterFilter@2b0d6bf2, org.springframework.security.web.csrf.CsrfFilter@10ab976b, org.springframework.security.web.authentication.logout.LogoutFilter@41d6d6c4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@11df0bc7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6b578779, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@68a7bc12, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46c92d27, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2bc52b08, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14f03f2, org.springframework.security.web.access.ExceptionTranslationFilter@5da799, org.springframework.security.web.access.intercept.AuthorizationFilter@147203c2]
2023-02-27 02:17:19 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 02:17:19 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 02:17:19 INFO  main org.leslie.auth.MainApplication Started MainApplication in 3.852 seconds (process running for 4.229)
2023-02-27 02:17:19 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 02:17:19 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:17:19 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:17:37 INFO  http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 02:17:37 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 02:17:37 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 1 ms
2023-02-27 02:18:01 ERROR http-nio-20000-exec-5 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.IllegalArgumentException: The class with java.sql.Timestamp and name of java.sql.Timestamp is not in the allowlist. If you believe this class is safe to deserialize, please provide an explicit mapping using Jackson annotations or by providing a Mixin. If the serialization is only done by a trusted source, you can also enable default typing. See https://github.com/spring-projects/spring-security/issues/4370 for details (through reference chain: org.leslie.auth.entity.Admin["createTime"])
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.parseMap(JpaOAuth2AuthorizationServiceImpl.java:231)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.lambda$toObject$0(JpaOAuth2AuthorizationServiceImpl.java:109)
	at org.springframework.security.oauth2.server.authorization.OAuth2Authorization$Builder.attributes(OAuth2Authorization.java:524)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.toObject(JpaOAuth2AuthorizationServiceImpl.java:109)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.findByToken(JpaOAuth2AuthorizationServiceImpl.java:94)
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationConsentAuthenticationProvider.authenticate(OAuth2AuthorizationConsentAuthenticationProvider.java:97)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.fasterxml.jackson.databind.JsonMappingException: The class with java.sql.Timestamp and name of java.sql.Timestamp is not in the allowlist. If you believe this class is safe to deserialize, please provide an explicit mapping using Jackson annotations or by providing a Mixin. If the serialization is only done by a trusted source, you can also enable default typing. See https://github.com/spring-projects/spring-security/issues/4370 for details (through reference chain: org.leslie.auth.entity.Admin["createTime"])
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:402)
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:361)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.wrapAndThrow(BeanDeserializerBase.java:1826)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:316)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:215)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:213)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserializeWithType(UntypedObjectDeserializerNR.java:115)
	at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4706)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2879)
	at org.springframework.security.jackson2.UsernamePasswordAuthenticationTokenDeserializer.getPrincipal(UsernamePasswordAuthenticationTokenDeserializer.java:104)
	at org.springframework.security.jackson2.UsernamePasswordAuthenticationTokenDeserializer.deserialize(UsernamePasswordAuthenticationTokenDeserializer.java:75)
	at org.springframework.security.jackson2.UsernamePasswordAuthenticationTokenDeserializer.deserialize(UsernamePasswordAuthenticationTokenDeserializer.java:51)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:213)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserializeWithType(UntypedObjectDeserializerNR.java:115)
	at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4706)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2879)
	at org.springframework.security.oauth2.server.authorization.jackson2.UnmodifiableMapDeserializer.deserialize(UnmodifiableMapDeserializer.java:47)
	at org.springframework.security.oauth2.server.authorization.jackson2.UnmodifiableMapDeserializer.deserialize(UnmodifiableMapDeserializer.java:37)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserializeWithType(MapDeserializer.java:492)
	at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4730)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3660)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.parseMap(JpaOAuth2AuthorizationServiceImpl.java:228)
	... 69 common frames omitted
Caused by: java.lang.IllegalArgumentException: The class with java.sql.Timestamp and name of java.sql.Timestamp is not in the allowlist. If you believe this class is safe to deserialize, please provide an explicit mapping using Jackson annotations or by providing a Mixin. If the serialization is only done by a trusted source, you can also enable default typing. See https://github.com/spring-projects/spring-security/issues/4370 for details
	at org.springframework.security.jackson2.SecurityJackson2Modules$AllowlistTypeIdResolver.typeFromId(SecurityJackson2Modules.java:265)
	at com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._findDeserializer(TypeDeserializerBase.java:159)
	at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:97)
	at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromScalar(AsArrayTypeDeserializer.java:66)
	at com.fasterxml.jackson.databind.deser.std.StdScalarDeserializer.deserializeWithType(StdScalarDeserializer.java:66)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:138)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	... 101 common frames omitted
2023-02-27 02:22:07 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:22:07 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 02:22:07 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 02:22:11 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 10329 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 02:22:11 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 02:22:11 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 02:22:11 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 96 ms. Found 4 JPA repository interfaces.
2023-02-27 02:22:12 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 02:22:12 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 02:22:12 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 02:22:12 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 02:22:12 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 02:22:12 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 1006 ms
2023-02-27 02:22:12 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 02:22:12 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 02:22:12 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 02:22:12 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 02:22:12 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 02:22:12 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6a4af081
2023-02-27 02:22:12 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 02:22:12 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 02:22:12 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 02:22:13 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 02:22:13 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:22:13 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 02:22:13 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 02:22:13 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 02:22:13 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 02:22:13 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 02:22:14 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1338/0x00000008014938c0@615bd28b with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b9a7211, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74ec4df3, org.springframework.security.web.context.SecurityContextHolderFilter@7bbe5548, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@689fe2a3, org.springframework.security.web.header.HeaderWriterFilter@5a1a5521, org.springframework.security.web.csrf.CsrfFilter@335a45a8, org.springframework.security.web.authentication.logout.LogoutFilter@52dc71b2, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1dc987b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@35fd03d9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@1bdb6b36, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@54644470, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2b71a12e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@77350382, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ed2a30c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@765e5a55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5482b32a, org.springframework.security.web.access.ExceptionTranslationFilter@760ac834, org.springframework.security.web.access.intercept.AuthorizationFilter@569026df, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72924f19, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@158b8d10, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@30d3f583, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@4d25943d]
2023-02-27 02:22:14 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8e100e7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@420dde28, org.springframework.security.web.context.SecurityContextHolderFilter@fefd4a2, org.springframework.security.web.header.HeaderWriterFilter@64dcfd09, org.springframework.security.web.csrf.CsrfFilter@13f358f8, org.springframework.security.web.authentication.logout.LogoutFilter@52288c65, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1ebcfcf1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@361d169a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6d3a56ea, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d2693f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@352a8183, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@141874c8, org.springframework.security.web.access.ExceptionTranslationFilter@3f119b55, org.springframework.security.web.access.intercept.AuthorizationFilter@6d18401b]
2023-02-27 02:22:15 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 02:22:15 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 02:22:15 INFO  main org.leslie.auth.MainApplication Started MainApplication in 4.412 seconds (process running for 4.81)
2023-02-27 02:22:15 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 02:22:15 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:22:15 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:22:25 INFO  http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 02:22:25 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 02:22:25 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 1 ms
2023-02-27 02:22:35 ERROR http-nio-20000-exec-5 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.IllegalArgumentException: Unexpected token (START_OBJECT), expected START_ARRAY: need JSON Array to contain As.WRAPPER_ARRAY type information for class java.util.Map
 at [Source: (String)"{"@class":"java.util.Collections$UnmodifiableMap","java.security.Principal":["org.springframework.security.authentication.UsernamePasswordAuthenticationToken",{"authorities":["java.util.Collections$EmptyList",[]],"details":["org.springframework.security.web.authentication.WebAuthenticationDetails",{"remoteAddress":"0:0:0:0:0:0:0:1","sessionId":"B4A2132F16301756B600889A553D28F9"}],"authenticated":true,"principal":["org.leslie.auth.entity.Admin",{"id":3,"createTime":["java.sql.Timestamp",167742277"[truncated 1124 chars]; line: 1, column: 1]
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.parseMap(JpaOAuth2AuthorizationServiceImpl.java:231)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.lambda$toObject$0(JpaOAuth2AuthorizationServiceImpl.java:109)
	at org.springframework.security.oauth2.server.authorization.OAuth2Authorization$Builder.attributes(OAuth2Authorization.java:524)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.toObject(JpaOAuth2AuthorizationServiceImpl.java:109)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.findByToken(JpaOAuth2AuthorizationServiceImpl.java:94)
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationConsentAuthenticationProvider.authenticate(OAuth2AuthorizationConsentAuthenticationProvider.java:97)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Unexpected token (START_OBJECT), expected START_ARRAY: need JSON Array to contain As.WRAPPER_ARRAY type information for class java.util.Map
 at [Source: (String)"{"@class":"java.util.Collections$UnmodifiableMap","java.security.Principal":["org.springframework.security.authentication.UsernamePasswordAuthenticationToken",{"authorities":["java.util.Collections$EmptyList",[]],"details":["org.springframework.security.web.authentication.WebAuthenticationDetails",{"remoteAddress":"0:0:0:0:0:0:0:1","sessionId":"B4A2132F16301756B600889A553D28F9"}],"authenticated":true,"principal":["org.leslie.auth.entity.Admin",{"id":3,"createTime":["java.sql.Timestamp",167742277"[truncated 1124 chars]; line: 1, column: 1]
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)
	at com.fasterxml.jackson.databind.DeserializationContext.wrongTokenException(DeserializationContext.java:1944)
	at com.fasterxml.jackson.databind.DeserializationContext.reportWrongTokenException(DeserializationContext.java:1678)
	at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._locateTypeId(AsArrayTypeDeserializer.java:141)
	at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:96)
	at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromObject(AsArrayTypeDeserializer.java:61)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserializeWithType(MapDeserializer.java:492)
	at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4730)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3660)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.parseMap(JpaOAuth2AuthorizationServiceImpl.java:228)
	... 69 common frames omitted
2023-02-27 02:23:04 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:23:04 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 02:23:04 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 02:23:09 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 10377 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 02:23:09 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 02:23:09 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 02:23:09 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2023-02-27 02:23:09 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 02:23:09 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 02:23:09 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 02:23:09 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 02:23:10 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 02:23:10 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 818 ms
2023-02-27 02:23:10 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 02:23:10 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 02:23:10 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 02:23:10 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 02:23:10 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 02:23:10 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@54329480
2023-02-27 02:23:10 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 02:23:10 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 02:23:10 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 02:23:10 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 02:23:11 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:23:11 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 02:23:11 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 02:23:11 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 02:23:11 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 02:23:11 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 02:23:11 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1338/0x000000080148cbd0@30d3f583 with [org.springframework.security.web.session.DisableEncodeUrlFilter@3344c1d7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73b034ca, org.springframework.security.web.context.SecurityContextHolderFilter@4117e0c9, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@4d86f330, org.springframework.security.web.header.HeaderWriterFilter@34947355, org.springframework.security.web.csrf.CsrfFilter@282079b9, org.springframework.security.web.authentication.logout.LogoutFilter@5f815f93, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@569026df, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@5a183fa6, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@6b6cf3c1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@58fbecde, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3c6d3ba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@e09c7a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e528476, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45e49d3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@104e6540, org.springframework.security.web.access.ExceptionTranslationFilter@74f9004c, org.springframework.security.web.access.intercept.AuthorizationFilter@62818ab0, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@2b71a12e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@3c20abd6, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@33293b34, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@72924f19]
2023-02-27 02:23:11 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2eea0775, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@495a9305, org.springframework.security.web.context.SecurityContextHolderFilter@78b29e00, org.springframework.security.web.header.HeaderWriterFilter@40e90634, org.springframework.security.web.csrf.CsrfFilter@7acbd3d0, org.springframework.security.web.authentication.logout.LogoutFilter@1f8ac459, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@67201eeb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@339b45f8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6a0a0f12, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c438795, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b4b2c03, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b6fea12, org.springframework.security.web.access.ExceptionTranslationFilter@49d5c751, org.springframework.security.web.access.intercept.AuthorizationFilter@149ef64a]
2023-02-27 02:23:12 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 02:23:12 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 02:23:12 INFO  main org.leslie.auth.MainApplication Started MainApplication in 3.314 seconds (process running for 3.69)
2023-02-27 02:23:12 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 02:23:12 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:23:12 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:23:28 INFO  http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 02:23:28 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 02:23:28 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 1 ms
2023-02-27 02:23:43 ERROR http-nio-20000-exec-5 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.IllegalArgumentException: Cannot construct instance of `org.springframework.security.authentication.UsernamePasswordAuthenticationToken` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)
 at [Source: (String)"["java.util.Collections$UnmodifiableMap",{"java.security.Principal":["org.springframework.security.authentication.UsernamePasswordAuthenticationToken",{"authorities":["java.util.Collections$EmptyList",[]],"details":["org.springframework.security.web.authentication.WebAuthenticationDetails",{"remoteAddress":"0:0:0:0:0:0:0:1","sessionId":"8AECB7DE7FC6258B9E77F94C351F91D1"}],"authenticated":true,"principal":["org.leslie.auth.entity.Admin",{"id":3,"createTime":["java.sql.Timestamp",1677422772388],"u"[truncated 1120 chars]; line: 1, column: 153] (through reference chain: java.util.LinkedHashMap["java.security.Principal"])
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.parseMap(JpaOAuth2AuthorizationServiceImpl.java:231)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.lambda$toObject$0(JpaOAuth2AuthorizationServiceImpl.java:109)
	at org.springframework.security.oauth2.server.authorization.OAuth2Authorization$Builder.attributes(OAuth2Authorization.java:524)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.toObject(JpaOAuth2AuthorizationServiceImpl.java:109)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.findByToken(JpaOAuth2AuthorizationServiceImpl.java:94)
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationConsentAuthenticationProvider.authenticate(OAuth2AuthorizationConsentAuthenticationProvider.java:97)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.security.authentication.UsernamePasswordAuthenticationToken` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)
 at [Source: (String)"["java.util.Collections$UnmodifiableMap",{"java.security.Principal":["org.springframework.security.authentication.UsernamePasswordAuthenticationToken",{"authorities":["java.util.Collections$EmptyList",[]],"details":["org.springframework.security.web.authentication.WebAuthenticationDetails",{"remoteAddress":"0:0:0:0:0:0:0:1","sessionId":"8AECB7DE7FC6258B9E77F94C351F91D1"}],"authenticated":true,"principal":["org.leslie.auth.entity.Admin",{"id":3,"createTime":["java.sql.Timestamp",1677422772388],"u"[truncated 1120 chars]; line: 1, column: 153] (through reference chain: java.util.LinkedHashMap["java.security.Principal"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)
	at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1909)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:408)
	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1354)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1420)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:352)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185)
	at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:120)
	at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromAny(AsArrayTypeDeserializer.java:71)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserializeWithType(UntypedObjectDeserializerNR.java:115)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:625)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.std.StdDelegatingDeserializer.deserialize(StdDelegatingDeserializer.java:175)
	at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:120)
	at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromObject(AsArrayTypeDeserializer.java:61)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserializeWithType(MapDeserializer.java:492)
	at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4730)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3660)
	at org.leslie.auth.service.impl.JpaOAuth2AuthorizationServiceImpl.parseMap(JpaOAuth2AuthorizationServiceImpl.java:228)
	... 69 common frames omitted
2023-02-27 02:24:26 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:24:26 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 02:24:26 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 02:24:30 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 10437 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 02:24:30 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 02:24:30 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 02:24:30 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 48 ms. Found 4 JPA repository interfaces.
2023-02-27 02:24:31 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 02:24:31 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 02:24:31 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 02:24:31 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 02:24:31 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 02:24:31 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 912 ms
2023-02-27 02:24:31 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 02:24:31 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 02:24:31 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 02:24:31 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 02:24:31 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 02:24:31 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@bb6f3f7
2023-02-27 02:24:31 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 02:24:31 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 02:24:31 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 02:24:32 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 02:24:32 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:24:32 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 02:24:32 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 02:24:32 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 02:24:32 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 02:24:32 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 02:24:34 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1338/0x0000000801489e70@3652dd19 with [org.springframework.security.web.session.DisableEncodeUrlFilter@6b6cf3c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@702e21c, org.springframework.security.web.context.SecurityContextHolderFilter@10efb806, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@344f4a82, org.springframework.security.web.header.HeaderWriterFilter@18b88f7, org.springframework.security.web.csrf.CsrfFilter@3ede428e, org.springframework.security.web.authentication.logout.LogoutFilter@7680beac, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@37f60cd4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@5d3f583d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@64a00fe0, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4b8ba6b7, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@5f815f93, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@77737e3e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a728076, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@66450129, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c450960, org.springframework.security.web.access.ExceptionTranslationFilter@13e6ab86, org.springframework.security.web.access.intercept.AuthorizationFilter@579cfcc4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52dc71b2, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@3f0c2eff, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@3e242137, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@466bf366]
2023-02-27 02:24:34 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@38276668, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e09c7a2, org.springframework.security.web.context.SecurityContextHolderFilter@3ba6707e, org.springframework.security.web.header.HeaderWriterFilter@299615a5, org.springframework.security.web.csrf.CsrfFilter@154cbb46, org.springframework.security.web.authentication.logout.LogoutFilter@158b8d10, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6b6bae60, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5578ed7e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2688b2be, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b407ac7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c5ae26d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30d3f583, org.springframework.security.web.access.ExceptionTranslationFilter@58fbecde, org.springframework.security.web.access.intercept.AuthorizationFilter@1cd853ee]
2023-02-27 02:24:34 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 02:24:34 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 02:24:34 INFO  main org.leslie.auth.MainApplication Started MainApplication in 4.811 seconds (process running for 5.246)
2023-02-27 02:24:34 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 02:24:34 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:24:34 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:24:44 INFO  http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 02:24:44 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 02:24:44 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 1 ms
2023-02-27 02:24:57 ERROR http-nio-20000-exec-8 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest is in unnamed module of loader 'app')
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationConsentAuthenticationProvider.authenticate(OAuth2AuthorizationConsentAuthenticationProvider.java:126)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-27 02:35:33 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:35:33 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 02:35:33 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 02:35:39 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 10776 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 02:35:39 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 02:35:39 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 02:35:39 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2023-02-27 02:35:40 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 02:35:40 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 02:35:40 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 02:35:40 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 02:35:40 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 02:35:40 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 904 ms
2023-02-27 02:35:40 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 02:35:40 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 02:35:40 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 02:35:40 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 02:35:40 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 02:35:40 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@446c8c72
2023-02-27 02:35:40 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 02:35:40 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 02:35:40 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 02:35:41 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 02:35:41 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:35:41 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 02:35:41 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 02:35:41 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 02:35:42 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1322/0x000000080140b698@586b78d7 with [org.springframework.security.web.session.DisableEncodeUrlFilter@75882ac2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48b01607, org.springframework.security.web.context.SecurityContextHolderFilter@18139a43, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@71c91121, org.springframework.security.web.header.HeaderWriterFilter@f2b4303, org.springframework.security.web.csrf.CsrfFilter@64f2b1b4, org.springframework.security.web.authentication.logout.LogoutFilter@5a941fb4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@527d1fe1, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4faaff61, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@564fc235, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@24e31f06, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@1387bd84, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@647b3fd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3dbb7bb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a95aaae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43255f91, org.springframework.security.web.access.ExceptionTranslationFilter@1d126f07, org.springframework.security.web.access.intercept.AuthorizationFilter@73c6ae15, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@156f0281, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@5364b481, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@65880400, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@198524ec]
2023-02-27 02:35:42 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6067e7c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ab2e887, org.springframework.security.web.context.SecurityContextHolderFilter@59263f7b, org.springframework.security.web.header.HeaderWriterFilter@16e5c19f, org.springframework.security.web.csrf.CsrfFilter@7bc4ac3e, org.springframework.security.web.authentication.logout.LogoutFilter@7d432bc0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2ad80cf6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7cab8d52, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4daead88, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ddcd3d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@447a557b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43aa767, org.springframework.security.web.access.ExceptionTranslationFilter@504274c1, org.springframework.security.web.access.intercept.AuthorizationFilter@4be5b9b1]
2023-02-27 02:35:42 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 02:35:42 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 02:35:42 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 02:35:42 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 02:35:42 INFO  main org.leslie.auth.MainApplication Started MainApplication in 4.026 seconds (process running for 4.396)
2023-02-27 02:35:42 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 02:35:42 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:35:42 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:35:49 INFO  http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 02:35:49 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 02:35:49 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 1 ms
2023-02-27 02:35:58 ERROR http-nio-20000-exec-5 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.ClassCastException: class java.lang.String cannot be cast to class java.time.Duration (java.lang.String and java.time.Duration are in module java.base of loader 'bootstrap')
	at org.springframework.security.oauth2.server.authorization.settings.TokenSettings.getAuthorizationCodeTimeToLive(TokenSettings.java:46)
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeGenerator.generate(OAuth2AuthorizationCodeGenerator.java:51)
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeGenerator.generate(OAuth2AuthorizationCodeGenerator.java:39)
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationConsentAuthenticationProvider.authenticate(OAuth2AuthorizationConsentAuthenticationProvider.java:213)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-27 02:37:41 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:37:41 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 02:37:41 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 02:37:43 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 10847 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 02:37:43 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 02:37:43 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 02:37:43 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2023-02-27 02:37:44 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 02:37:44 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 02:37:44 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 02:37:44 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 02:37:44 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 02:37:44 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 887 ms
2023-02-27 02:37:44 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 02:37:44 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 02:37:44 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 02:37:44 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 02:37:44 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 02:37:44 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@892af0e
2023-02-27 02:37:44 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 02:37:44 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 02:37:44 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 02:37:45 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 02:37:45 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:37:45 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 02:37:45 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 02:37:45 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 02:37:46 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1322/0x000000080140b610@4e68aede with [org.springframework.security.web.session.DisableEncodeUrlFilter@586b78d7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75882ac2, org.springframework.security.web.context.SecurityContextHolderFilter@2d399e88, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7d65c0ac, org.springframework.security.web.header.HeaderWriterFilter@71689ee2, org.springframework.security.web.csrf.CsrfFilter@229fe7ab, org.springframework.security.web.authentication.logout.LogoutFilter@893081e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@7940b729, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4c25201, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2fd05b15, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@33478a2f, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@461b38ca, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1e366f0f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4df5f119, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42db3ff, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48b01607, org.springframework.security.web.access.ExceptionTranslationFilter@3a5ffea, org.springframework.security.web.access.intercept.AuthorizationFilter@34114276, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@47cf65f1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@5f1c406e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7d2a4598, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@5c40402c]
2023-02-27 02:37:46 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@629fe84, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6067e7c1, org.springframework.security.web.context.SecurityContextHolderFilter@16e5c19f, org.springframework.security.web.header.HeaderWriterFilter@504274c1, org.springframework.security.web.csrf.CsrfFilter@3e0e3048, org.springframework.security.web.authentication.logout.LogoutFilter@141eb85b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4be5b9b1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@447a557b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@ab2e887, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59263f7b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ddcd3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4daead88, org.springframework.security.web.access.ExceptionTranslationFilter@7bc4ac3e, org.springframework.security.web.access.intercept.AuthorizationFilter@6b04689e]
2023-02-27 02:37:46 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 02:37:46 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 02:37:46 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 02:37:46 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 02:37:46 INFO  main org.leslie.auth.MainApplication Started MainApplication in 3.456 seconds (process running for 3.897)
2023-02-27 02:37:46 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 02:37:46 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:37:46 INFO  main org.leslie.auth.task.ProgramStartTask Insert default oauth2 client into db success
2023-02-27 02:37:46 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:38:04 INFO  http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 02:38:04 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 02:38:04 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 1 ms
2023-02-27 02:38:11 ERROR http-nio-20000-exec-7 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.ClassCastException: class java.lang.String cannot be cast to class java.time.Duration (java.lang.String and java.time.Duration are in module java.base of loader 'bootstrap')
	at org.springframework.security.oauth2.server.authorization.settings.TokenSettings.getAuthorizationCodeTimeToLive(TokenSettings.java:46)
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeGenerator.generate(OAuth2AuthorizationCodeGenerator.java:51)
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeGenerator.generate(OAuth2AuthorizationCodeGenerator.java:39)
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationConsentAuthenticationProvider.authenticate(OAuth2AuthorizationConsentAuthenticationProvider.java:213)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-27 02:43:58 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:43:58 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 02:43:58 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 02:44:02 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 11045 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 02:44:02 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 02:44:02 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 02:44:02 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2023-02-27 02:44:03 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 02:44:03 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 02:44:03 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 02:44:03 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 02:44:03 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 02:44:03 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 893 ms
2023-02-27 02:44:03 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 02:44:03 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 02:44:03 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 02:44:03 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 02:44:03 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 02:44:03 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@446c8c72
2023-02-27 02:44:03 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 02:44:03 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 02:44:03 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 02:44:04 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 02:44:04 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:44:04 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 02:44:04 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 02:44:04 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 02:44:06 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1322/0x000000080140b698@586b78d7 with [org.springframework.security.web.session.DisableEncodeUrlFilter@75882ac2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48b01607, org.springframework.security.web.context.SecurityContextHolderFilter@18139a43, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@71c91121, org.springframework.security.web.header.HeaderWriterFilter@f2b4303, org.springframework.security.web.csrf.CsrfFilter@64f2b1b4, org.springframework.security.web.authentication.logout.LogoutFilter@5a941fb4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@527d1fe1, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4faaff61, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@564fc235, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@24e31f06, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@1387bd84, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@647b3fd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3dbb7bb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a95aaae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43255f91, org.springframework.security.web.access.ExceptionTranslationFilter@1d126f07, org.springframework.security.web.access.intercept.AuthorizationFilter@73c6ae15, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@156f0281, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@5364b481, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@65880400, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@198524ec]
2023-02-27 02:44:06 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6067e7c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ab2e887, org.springframework.security.web.context.SecurityContextHolderFilter@59263f7b, org.springframework.security.web.header.HeaderWriterFilter@16e5c19f, org.springframework.security.web.csrf.CsrfFilter@7bc4ac3e, org.springframework.security.web.authentication.logout.LogoutFilter@7d432bc0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2ad80cf6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7cab8d52, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4daead88, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ddcd3d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@447a557b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43aa767, org.springframework.security.web.access.ExceptionTranslationFilter@504274c1, org.springframework.security.web.access.intercept.AuthorizationFilter@4be5b9b1]
2023-02-27 02:44:06 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 02:44:07 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 02:44:07 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 02:44:07 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 02:44:07 INFO  main org.leslie.auth.MainApplication Started MainApplication in 5.311 seconds (process running for 5.754)
2023-02-27 02:44:07 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 02:44:07 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:44:07 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:44:39 INFO  http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 02:44:39 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 02:44:39 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 1 ms
2023-02-27 02:44:39 ERROR http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.security.oauth2.server.authorization.settings.ClientSettings` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)
 at [Source: (String)"{"settings.client.require-proof-key":false,"settings.client.require-authorization-consent":true}"; line: 1, column: 2]
	at org.leslie.auth.repository.JpaRegisteredClientRepository.toObject(JpaRegisteredClientRepository.java:90)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.leslie.auth.repository.JpaRegisteredClientRepository.findByClientId(JpaRegisteredClientRepository.java:49)
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:105)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.security.oauth2.server.authorization.settings.ClientSettings` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)
 at [Source: (String)"{"settings.client.require-proof-key":false,"settings.client.require-authorization-consent":true}"; line: 1, column: 2]
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)
	at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1909)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:408)
	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1354)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1420)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:352)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4730)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3660)
	at org.leslie.auth.repository.JpaRegisteredClientRepository.toObject(JpaRegisteredClientRepository.java:80)
	... 66 common frames omitted
2023-02-27 02:45:25 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:45:25 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 02:45:25 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
2023-02-27 02:50:45 INFO  main org.leslie.auth.MainApplication Starting MainApplication using Java 17.0.6 with PID 11258 (/Users/leslie/Documents/code/mall-cloud/server/mall-server/mall-auth/target/classes started by leslie in /Users/leslie/Documents/code/mall-cloud/server/mall-server)
2023-02-27 02:50:45 INFO  main org.leslie.auth.MainApplication No active profile set, falling back to 1 default profile: "default"
2023-02-27 02:50:45 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 02:50:45 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 50 ms. Found 4 JPA repository interfaces.
2023-02-27 02:50:46 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 20000 (http)
2023-02-27 02:50:46 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-20000"]
2023-02-27 02:50:46 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2023-02-27 02:50:46 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-02-27 02:50:46 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2023-02-27 02:50:46 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 997 ms
2023-02-27 02:50:46 INFO  main org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 02:50:46 INFO  main org.hibernate.Version HHH000412: Hibernate ORM core version 6.1.6.Final
2023-02-27 02:50:46 WARN  main org.hibernate.orm.deprecation HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-02-27 02:50:46 WARN  main com.zaxxer.hikari.HikariConfig HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2023-02-27 02:50:46 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Starting...
2023-02-27 02:50:46 INFO  main com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@505d2bac
2023-02-27 02:50:46 INFO  main com.zaxxer.hikari.HikariDataSource HikariPool-1 - Start completed.
2023-02-27 02:50:46 INFO  main SQL dialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-02-27 02:50:46 WARN  main org.hibernate.orm.deprecation HHH90000026: PostgreSQL95Dialect has been deprecated; use org.hibernate.dialect.PostgreSQLDialect instead
2023-02-27 02:50:47 INFO  main org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 02:50:47 INFO  main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:50:47 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.Oauth2RegisteredClientRepository
2023-02-27 02:50:47 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AdminRepository
2023-02-27 02:50:47 WARN  main org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 02:50:48 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1322/0x000000080140b610@3efd3302 with [org.springframework.security.web.session.DisableEncodeUrlFilter@531292ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41538150, org.springframework.security.web.context.SecurityContextHolderFilter@6d94a966, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3df681cc, org.springframework.security.web.header.HeaderWriterFilter@3ace65df, org.springframework.security.web.csrf.CsrfFilter@626ff077, org.springframework.security.web.authentication.logout.LogoutFilter@3eb641a8, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@30eee098, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@18cb4ed1, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@6905d030, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@761f1a28, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7a85454b, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@d43f205, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@445b4594, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a5ffea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1360ef8d, org.springframework.security.web.access.ExceptionTranslationFilter@1f370472, org.springframework.security.web.access.intercept.AuthorizationFilter@54fd5759, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@3872867d, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@1bed61d2, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@444ebefd, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@159408a7]
2023-02-27 02:50:48 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@16e5c19f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59263f7b, org.springframework.security.web.context.SecurityContextHolderFilter@6eeeb9da, org.springframework.security.web.header.HeaderWriterFilter@7fba492e, org.springframework.security.web.csrf.CsrfFilter@35198da3, org.springframework.security.web.authentication.logout.LogoutFilter@15ea0ca3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3e0e3048, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@396519b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7ddcd3d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17635531, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e488e45, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@447a557b, org.springframework.security.web.access.ExceptionTranslationFilter@7f08c343, org.springframework.security.web.access.intercept.AuthorizationFilter@4e111e08]
2023-02-27 02:50:48 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationRepository
2023-02-27 02:50:49 WARN  main org.springframework.core.LocalVariableTableParameterNameDiscoverer Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.leslie.auth.repository.AuthorizationConsentRepository
2023-02-27 02:50:49 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-20000"]
2023-02-27 02:50:49 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 20000 (http) with context path ''
2023-02-27 02:50:49 INFO  main org.leslie.auth.MainApplication Started MainApplication in 4.381 seconds (process running for 5.0)
2023-02-27 02:50:49 INFO  main org.leslie.auth.task.ProgramStartTask Program Start Task begin
2023-02-27 02:50:49 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:50:49 INFO  main org.leslie.auth.task.ProgramStartTask ddlAuto: update
2023-02-27 02:50:55 INFO  http-nio-20000-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 02:50:55 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2023-02-27 02:50:55 INFO  http-nio-20000-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 1 ms
2023-02-27 02:51:06 ERROR http-nio-20000-exec-5 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.ClassCastException: class java.lang.String cannot be cast to class java.time.Duration (java.lang.String and java.time.Duration are in module java.base of loader 'bootstrap')
	at org.springframework.security.oauth2.server.authorization.settings.TokenSettings.getAuthorizationCodeTimeToLive(TokenSettings.java:46)
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeGenerator.generate(OAuth2AuthorizationCodeGenerator.java:51)
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeGenerator.generate(OAuth2AuthorizationCodeGenerator.java:39)
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationConsentAuthenticationProvider.authenticate(OAuth2AuthorizationConsentAuthenticationProvider.java:213)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-27 02:52:02 INFO  SpringApplicationShutdownHook org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 02:52:02 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2023-02-27 02:52:02 INFO  SpringApplicationShutdownHook com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
